{"ast":null,"code":"var _jsxFileName = \"/home/min/project-pet/final_project/BongSa-Heaven/test/client/src/components/KakaoTest.js\";\nimport React from \"react\";\nimport { useHistory } from \"react-router\";\nimport kakaologo from \"./kakaologo.png\";\n\nconst KakaoTest = () => {\n  const history = useHistory();\n\n  const GoBack = () => history.goBack();\n\n  const loginWithKakao = () => {\n    const scope = \"profile_nickname,profile_image, account_email\";\n    Kakao.Auth.login({\n      scope,\n      // success는 인증 정보를 응답(response)으로 받는다.\n      success: function (response) {\n        //카카오 SDK에 사용자 토큰을 설정한다.\n        window.Kakao.Auth.setAccessToken(response.access_token);\n        console.log(`is set?: ${window.Kakao.Auth.getAccessToken()}`);\n        var ACCESS_TOKEN = window.Kakao.Auth.getAccessToken();\n        window.Kakao.API.request({\n          url: \"/v2/user/me\",\n          success: function ({\n            kakao_account\n          }) {\n            //어떤 정보 넘어오는지 확인\n            console.log(kakao_account);\n            const {\n              email,\n              profile\n            } = kakao_account;\n            console.log(email);\n            console.log(`responsed img: ${profile.profile_image_url}`);\n            console.log(profile.nickname);\n            axios({\n              method: \"post\",\n              url: \"/auth/sns\",\n              data: {\n                id: email,\n                nickname: profile.nickname,\n                image: profile.profile_image_url\n              }\n            }).then(res => {\n              console.log(res); // history.push(\"/main/feed\");\n            }).catch(error => {\n              // console.log(error);\n              console.error(error);\n              alert(\"카카오 로그인 에러?\");\n            });\n          },\n          fail: function (error) {\n            console.log(error);\n          }\n        });\n      },\n      fail: function (error) {\n        console.log(error);\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"kakao\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=498bc95ff9c33f89e4cff4ef0775b24b&redirect_uri=http://localhost:3000/auth/kakao\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: kakaologo,\n    alt: \"kakao\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"hi\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: GoBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, \"\\uC0BC\\uBCF4 \\uD6C4\\uD1F4 \\uC77C\\uBCF4 \\uC804\\uC9C4\"));\n};\n\nexport default KakaoTest;","map":{"version":3,"sources":["/home/min/project-pet/final_project/BongSa-Heaven/test/client/src/components/KakaoTest.js"],"names":["React","useHistory","kakaologo","KakaoTest","history","GoBack","goBack","loginWithKakao","scope","Kakao","Auth","login","success","response","window","setAccessToken","access_token","console","log","getAccessToken","ACCESS_TOKEN","API","request","url","kakao_account","email","profile","profile_image_url","nickname","axios","method","data","id","image","then","res","catch","error","alert","fail"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router\";\nimport kakaologo from \"./kakaologo.png\";\n\nconst KakaoTest = () => {\n  const history = useHistory();\n  const GoBack = () => history.goBack();\n  const loginWithKakao = () => {\n    const scope = \"profile_nickname,profile_image, account_email\";\n    Kakao.Auth.login({\n      scope,\n      // success는 인증 정보를 응답(response)으로 받는다.\n      success: function (response) {\n        //카카오 SDK에 사용자 토큰을 설정한다.\n        window.Kakao.Auth.setAccessToken(response.access_token);\n        console.log(`is set?: ${window.Kakao.Auth.getAccessToken()}`);\n\n        var ACCESS_TOKEN = window.Kakao.Auth.getAccessToken();\n\n        window.Kakao.API.request({\n          url: \"/v2/user/me\",\n          success: function ({ kakao_account }) {\n            //어떤 정보 넘어오는지 확인\n            console.log(kakao_account);\n            const { email, profile } = kakao_account;\n\n            console.log(email);\n            console.log(`responsed img: ${profile.profile_image_url}`);\n            console.log(profile.nickname);\n\n            axios({\n              method: \"post\",\n              url: \"/auth/sns\",\n              data: {\n                id: email,\n                nickname: profile.nickname,\n                image: profile.profile_image_url,\n              },\n            })\n              .then((res) => {\n                console.log(res);\n                // history.push(\"/main/feed\");\n              })\n              .catch((error) => {\n                // console.log(error);\n                console.error(error);\n                alert(\"카카오 로그인 에러?\");\n              });\n          },\n          fail: function (error) {\n            console.log(error);\n          },\n        });\n      },\n      fail: function (error) {\n        console.log(error);\n      },\n    });\n  };\n  return (\n    <>\n      <div className=\"kakao\">\n        <a href=\"https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=498bc95ff9c33f89e4cff4ef0775b24b&redirect_uri=http://localhost:3000/auth/kakao\">\n          <img src={kakaologo} alt=\"kakao\"></img>\n        </a>\n      </div>\n      <div>hi</div>\n      <button onClick={GoBack}>삼보 후퇴 일보 전진</button>\n    </>\n  );\n};\n\nexport default KakaoTest;\n"]},"metadata":{},"sourceType":"module"}