{"ast":null,"code":"var _jsxFileName = \"/home/min/project-pet/final_project/BongSa-Heaven/test/client/src/components/uploading.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nconst BASE_URL = \"http://localhost:3000\";\nexport default function Upload() {\n  const [content, setContent] = useState(\"\");\n  const [uploadedImg, setUploadedImg] = useState({\n    fileName: \"\",\n    fillPath: \"\"\n  });\n\n  const onChange = e => {\n    setContent(e.target.files[0]);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"img\", content);\n    axios.post(\"/upload\", formData).then(res => {\n      const {\n        fileName\n      } = res.data;\n      console.log(fileName);\n      setUploadedImg({\n        fileName,\n        filePath: `${BASE_URL}/img/${fileName}`\n      });\n      alert(\"The file is successfully uploaded\");\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, uploadedImg ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n    src: uploadedImg.filePath,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, uploadedImg.fileName)) : \"\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Upload\")));\n}","map":{"version":3,"sources":["/home/min/project-pet/final_project/BongSa-Heaven/test/client/src/components/uploading.js"],"names":["React","useState","axios","BASE_URL","Upload","content","setContent","uploadedImg","setUploadedImg","fileName","fillPath","onChange","e","target","files","onSubmit","preventDefault","formData","FormData","append","post","then","res","data","console","log","filePath","alert","catch","err","error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,MAAMC,QAAQ,GAAG,uBAAjB;AAEA,eAAe,SAASC,MAAT,GAAkB;AAC/B,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACM,WAAD,EAAcC,cAAd,IAAgCP,QAAQ,CAAC;AAC7CQ,IAAAA,QAAQ,EAAE,EADmC;AAE7CC,IAAAA,QAAQ,EAAE;AAFmC,GAAD,CAA9C;;AAKA,QAAMC,QAAQ,GAAGC,CAAC,IAAI;AACpBN,IAAAA,UAAU,CAACM,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAV;AACD,GAFD;;AAGA,QAAMC,QAAQ,GAAGH,CAAC,IAAI;AACpBA,IAAAA,CAAC,CAACI,cAAF;AACA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,KAAhB,EAAuBd,OAAvB;AACAH,IAAAA,KAAK,CACFkB,IADH,CACQ,SADR,EACmBH,QADnB,EAEGI,IAFH,CAEQC,GAAG,IAAI;AACX,YAAM;AAAEb,QAAAA;AAAF,UAAea,GAAG,CAACC,IAAzB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYhB,QAAZ;AACAD,MAAAA,cAAc,CAAC;AAAEC,QAAAA,QAAF;AAAYiB,QAAAA,QAAQ,EAAG,GAAEvB,QAAS,QAAOM,QAAS;AAAlD,OAAD,CAAd;AACAkB,MAAAA,KAAK,CAAC,mCAAD,CAAL;AACD,KAPH,EAQGC,KARH,CAQSC,GAAG,IAAI;AACZL,MAAAA,OAAO,CAACM,KAAR,CAAcD,GAAd;AACD,KAVH;AAWD,GAfD;;AAiBA,sBACE,uDACE;AAAM,IAAA,QAAQ,EAAEd,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,WAAW,gBACV,uDACE;AAAK,IAAA,GAAG,EAAEA,WAAW,CAACmB,QAAtB;AAAgC,IAAA,GAAG,EAAC,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKnB,WAAW,CAACE,QAAjB,CAFF,CADU,GAMV,EAPJ,eASE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,QAAQ,EAAEE,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,eAUE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVF,CADF,CADF;AAiBO","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nconst BASE_URL = \"http://localhost:3000\";\n\nexport default function Upload() {\n  const [content, setContent] = useState(\"\");\n  const [uploadedImg, setUploadedImg] = useState({\n    fileName: \"\",\n    fillPath: \"\"\n  })\n\n  const onChange = e => {\n    setContent(e.target.files[0]);\n  };\n  const onSubmit = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"img\", content); \n    axios\n      .post(\"/upload\", formData)\n      .then(res => {\n        const { fileName } = res.data;\n        console.log(fileName);\n        setUploadedImg({ fileName, filePath: `${BASE_URL}/img/${fileName}` });\n        alert(\"The file is successfully uploaded\");\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  };\n\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        {uploadedImg ? (\n          <>\n            <img src={uploadedImg.filePath} alt=\"\" />\n            <h3>{uploadedImg.fileName}</h3>\n          </>\n        ) : (\n          \"\"\n        )}\n        <input type=\"file\" onChange={onChange} />\n        <button type=\"submit\">Upload</button>\n      </form>\n    </>\n  )\n\n        }"]},"metadata":{},"sourceType":"module"}